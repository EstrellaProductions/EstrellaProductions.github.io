<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css" />
  <link rel="stylesheet" href="styles/style.css">
  <link rel="stylesheet" href="styles/gallery.css">
  <link rel="stylesheet" href="styles/navbar.css">
  <link rel="stylesheet" href="styles/scrollup.css">
  <link rel="stylesheet" href="styles/footer.css">
  <link rel="icon" href="assets/logo.png" type="image/icon type" />
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
    integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
    crossorigin="anonymous"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/baguettebox.js/1.8.1/baguetteBox.min.css" />
  <title>Estrella Productions</title>
</head>

<body>
  <section id="header"></section>
  <script src="scripts/header.js"></script>

  <section id="up"></section>
  <script src="scripts/scrollup.js"></script>

  <div>
    <ul class="category" id="category">
      <li class="event active" onclick=sort(1)>Take One</li>
      <li class="event" onclick=sort(2)>Celluloid</li>
      <li class="event" onclick=sort(3)>Cellestra</li>
      <li class="event" onclick=sort(4)>Chapter Premiera</li>
      <li class="event" onclick=sort(5)>Food O Graphy</li>
      <li class="event" onclick=sort(6)>Panchami Parikrama</li>
    </ul>
  </div>

  <div class="gallery-container">
    <div class="tz-gallery">
      <div class="rows" id="assets"></div>
    </div>
  </div>

  <section id="footer"></section>
  <script src="scripts/footer.js"></script>

  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js"
    integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js"
    integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
    crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/baguettebox.js/1.8.1/baguetteBox.min.js"></script>

  <script>
    var menu_container = document.getElementById("category");
    var btns = menu_container.getElementsByClassName("event");
    for (var i = 0; i < btns.length; i++) {
      btns[i].addEventListener("click", function () {
        var current = document.getElementsByClassName("active");
        current[0].className = current[0].className.replace(" active", "");
        this.className += " active";
      });
    }


    galleryLink = 'https://files.catbox.moe/7vrn39.json'

    gallery = null

    fetch(galleryLink)
      .then(response => response.json())
      .then(data => {
        gallery = data
        sort(1)
      })
      .catch(error => {
        console.error('Error during fetch operation:', error);
      });

    function sort(ch) {
      if (ch === 1) {
        run(gallery.takeone)
      }
      else if (ch === 2) {
        run(gallery.celluloid);
      }
      else if (ch === 3) {
        run(gallery.cellestra);
      }
      else if (ch === 4) {
        run(gallery.chapter_primiera);
      }
      else if (ch === 5) {
        run(gallery.foodography);
      }
      else {
        run(gallery.panchami_parikrama)
      }
    }

    function run(event) {
      document.getElementById("assets").innerHTML = "";

      event.forEach(image => {
        document.getElementById(
          "assets"
        ).innerHTML += `<div class="gallery_picture"><a class="lightbox" href="${image.url}"><img src="${image.url}" alt="Gallery Image"></a></div>`;
      });

      baguetteBox.run(".tz-gallery");
      $(".portfolio-menu ul li").click(function () {
        $(".portfolio-menu ul li").removeClass("active");
        $(this).addClass("active");

        var selector = $(this).attr("data-filter");
        $(".portfolio-item").isotope({
          filter: selector,
        });
        return false;
      });
      $(document).ready(function () {
        var popup_btn = $(".popup-btn");
        popup_btn.magnificPopup({
          type: "image",
          gallery: {
            enabled: true,
          },
        });
      });
    }
  </script>
</body>

</html>