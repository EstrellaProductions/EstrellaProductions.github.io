<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css" />
  <link rel="stylesheet" href="styles/style.css">
  <link rel="stylesheet" href="styles/gallery.css">
  <link rel="stylesheet" href="styles/navbar.css">
  <link rel="stylesheet" href="styles/title-animation.css">
  <link rel="stylesheet" href="styles/footer.css">
  <link rel="icon" href="assets/logo.png" type="image/icon type" />
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
    integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
    crossorigin="anonymous"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/baguettebox.js/1.8.1/baguetteBox.min.css" />
  <title>Estrella Productions</title>
</head>

<body>
  <section id="header"></section>
  <script src="scripts/header.js"></script>

  <div>
    <ul class="category" id="category">
      <li class="event active" onclick=sort(1)>Take One</li>
      <li class="event" onclick=sort(2)>Celluloid</li>
      <li class="event" onclick=sort(3)>Celestra</li>
      <li class="event" onclick=sort(4)>Chapter Primiera</li>
      <li class="event" onclick=sort(5)>Photo Walk</li>
    </ul>
  </div>

  <div class="gallery-container">
    <div class="tz-gallery">
      <div class="rows" id="assets"></div>
    </div>
  </div>

  <section id="footer"></section>
  <script src="scripts/footer.js"></script>

  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js"
    integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js"
    integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
    crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/baguettebox.js/1.8.1/baguetteBox.min.js"></script>
  <script src="scripts/gallery.js"></script>
  <script>
    var menu_container = document.getElementById("category");
    var btns = menu_container.getElementsByClassName("event");
    for (var i = 0; i < btns.length; i++) {
      btns[i].addEventListener("click", function () {
        var current = document.getElementsByClassName("active");
        current[0].className = current[0].className.replace(" active", "");
        this.className += " active";
      });
    }

    var last_image_index = takeOne;
    var folder_name = "takeOne";

    folder_link = 'https://files.catbox.moe/eypi2z.json'

    function sort(ch) {
      if (ch === 1) {
        showFromLink()
      }
      else if (ch === 2) {
        last_image_index = celluloid;
        folder_name = "celluloid";
        run();
      }
      else if (ch === 3) {
        last_image_index = celestra;
        folder_name = "celestra";
        run();
      }
      else if (ch === 4) {
        last_image_index = primiera;
        folder_name = "primiera"
        run();
      }
      else {
        last_image_index = photowalk;
        folder_name = "photowalk";
        run();
      }
    }

    function showFromLink() {
      fetch(folder_link)
        .then(response => response.json())
        .then(data => {
          data.links.forEach(link => {
            document.getElementById(
              "assets"
            ).innerHTML += `<div class="gallery_picture"><a class="lightbox" href="${link.url}"><img src="${link.url}" alt="Gallery Image"></a></div>`;
          });
        })
        .catch(error => {
          console.error('Error during fetch operation:', error);
        });
    }

    function run() {
      document.getElementById("assets").innerHTML = "";
      for (let i = 0; i <= last_image_index; i++) {
        document.getElementById(
          "assets"
        ).innerHTML += `<div class="gallery_picture"><a class="lightbox" href="assets/gallery/${folder_name}/${i}.JPG"><img src="assets/gallery/${folder_name}/${i}.JPG" alt="Gallery Image"></a></div>`;
      }

      baguetteBox.run(".tz-gallery");
      $(".portfolio-menu ul li").click(function () {
        $(".portfolio-menu ul li").removeClass("active");
        $(this).addClass("active");

        var selector = $(this).attr("data-filter");
        $(".portfolio-item").isotope({
          filter: selector,
        });
        return false;
      });
      $(document).ready(function () {
        var popup_btn = $(".popup-btn");
        popup_btn.magnificPopup({
          type: "image",
          gallery: {
            enabled: true,
          },
        });
      });
    }

    sort(1)
  </script>
</body>

</html>