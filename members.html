<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css" />
  <link rel="stylesheet" href="styles/style.css">
  <link rel="stylesheet" href="styles/members.css">
  <link rel="stylesheet" href="styles/navbar.css">
  <link rel="stylesheet" href="styles/scrollup.css">
  <link rel="stylesheet" href="styles/footer.css">
  <link rel="icon" href="assets/logo.png" type="image/icon type" />
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
    integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
    crossorigin="anonymous"></script>
  <title>Estrella Productions</title>
</head>

<body>
  <section id="header"></section>
  <script src="scripts/header.js"></script>

  <section id="up"></section>
  <script src="scripts/scrollup.js"></script>


  <div class="team-section">
    <div class="inner-width">
      <h1>Meet Our Team</h1>
      <div>
        <ul class="category" id="category">
          <li class="division active" onclick=sort(1)>All</li>
          <li class="division" onclick=sort(2)>Mentors</li>
          <li class="division" onclick=sort(3)>Advisors</li>
          <li class="division" onclick=sort(4)>Core Committee</li>
          <li class="division" onclick=sort(5)>Working Committee</li>
        </ul>
      </div>
      <div class="pers" id="members"></div>
    </div>
  </div>

  <section id="footer"></section>
  <script src="scripts/footer.js"></script>

  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js"
    integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js"
    integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
    crossorigin="anonymous"></script>

  
  <script>
    membersLink = 'https://files.catbox.moe/oqno0z.json'

    members = null

    fetch(membersLink)
      .then(response => response.json())
      .then(data => {
        members = data
        sort(1)
      })
      .catch(error => {
        console.error('Error during fetch operation:', error);
      });


    var menu_container = document.getElementById("category");
    var btns = menu_container.getElementsByClassName("division");
    for (var i = 0; i < btns.length; i++) {
      btns[i].addEventListener("click", function () {
        var current = document.getElementsByClassName("active");
        current[0].className = current[0].className.replace(" active", "");
        this.className += " active";
      });
    }

    function mentor() {
      members.mentor.forEach((mentor) => {
        document.getElementById(
          "members"
        ).innerHTML += `<div class="pe"><img src="${mentor.url}" onerror="this.src='default.jpg';"><div class="p-name">${mentor.name}</div><div class="p-des">${mentor.position}</div></div>`;
      });
    }

    function advisor() {
      members.advisors.forEach((advisor) => {
        document.getElementById(
          "members"
        ).innerHTML += `<div class="pe"><img src="${advisor.url}" onerror="this.src='default.jpg';"><div class="p-name">${advisor.name}</div><div class="p-des">${advisor.position}</div></div>`;
      });
    }

    function coreComittee() {
      members.core_committee.forEach((cc) => {
        document.getElementById(
          "members"
        ).innerHTML += `<div class="pe"><img src="${cc.url}" onerror="this.src='default.jpg';"><div class="p-name">${cc.name}</div><div class="p-des">${cc.position}</div></div>`;
      });
    }

    function workingComittee() {
      members.working_committee.forEach((wc) => {
        document.getElementById(
          "members"
        ).innerHTML += `<div class="pe"><img src="${wc.url}" onerror="this.src='default.jpg';"><div class="p-name">${wc.name}</div><div class="p-des">Working Committee</div></div>`;
      });
    }

    function sort(ch) {
      document.getElementById("members").innerHTML = "";
      if (ch === 1) {
        mentor();
        advisor();
        coreComittee();
        workingComittee();
      }
      else if (ch === 2) {
        mentor();
      }
      else if (ch === 3) {
        advisor();
      }
      else if (ch === 4) {
        coreComittee();
      }
      else {
        workingComittee();
      }
    }
  </script>
</body>

</html>
